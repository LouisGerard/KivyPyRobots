#:kivy 1.9.1

#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import Toolbar kivymd.toolbar.Toolbar
#:import NavigationDrawer kivymd.navigationdrawer.NavigationDrawer
#:import FadeTransition kivy.uix.screenmanager.FadeTransition

<Menu>:
    NavigationDrawer:
        id: navigation
        title: "Navigation"

        NavigationDrawerIconButton:
            icon: 'home'
            text: "Acceuil"
            on_release: screen_manager.current = 'acceuil'

        NavigationDrawerIconButton:
            icon: 'gamepad'
            text: "Combat"

        NavigationDrawerIconButton:
            icon: 'comment-edit'
            text: "Editeur"
            on_release: screen_manager.current = 'editeur'

        NavigationDrawerIconButton:
            icon: 'shopping-cart'
            text: "Boutique"

        NavigationDrawerIconButton:
            icon: 'help'
            text: "Aide"

    BoxLayout:
        orientation: 'vertical'

        Toolbar:
            title: screen_manager.current
            background_color: app.theme_cls.primary_color
            left_action_items: [['menu', lambda x: navigation.toggle()]]
            right_action_items: [['more-vert', lambda x: app.stop()]]


        ScreenManager:
            id: screen_manager
            transition: FadeTransition()
            Acceuil:
            Editor:


<Acceuil>:
    name: 'acceuil'
    color:[0, 1, 0, 1]

    BoxLayout:
	    padding: sp(40)
		GridLayout:
	        rows: 2

			Label:
			    size_hint: None, None
                size: 800, 400
			    height: 24
			    color: (1, 1, 1, .8)
                text: "Bienvenue dans TANKLEE"

			Image:
                size_hint: None, None
                size: 800, 400
                source: 'images/77113.jpg'


<Editor>:
    name: 'editeur'
    color:[0, 1, 0, 1]

    BoxLayout:
        id: box
        orientation: 'vertical'

        Button:
            id: save_button
            text: "Sauvegarder"
            size_hint_x: 1
            size_hint_y: .1
            on_press: root.save()

        CodeInput:
            id: code_input
            size_hint_x: 1
            size_hint_y: .8
            text: root.load()
            font_name: "code.ttf"

